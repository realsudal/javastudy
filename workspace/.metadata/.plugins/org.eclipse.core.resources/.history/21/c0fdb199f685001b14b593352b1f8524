package quiz11;

import java.util.Scanner;

public class WeekSchedule {
	private int nthWeek;
	private Day[] week;
	private String[] weekNames= {"일","월","화","수","목","금","토"};
	Scanner sc=new Scanner(System.in);
	
	public WeekSchedule(int nthWeek) {
		this.nthWeek=nthWeek;
		week=new Day[7];
		
		for(int i=0;i<week.length;i++) {//7개의 객체를 미리 만들어줌
			week[i]=new Day();
			}
	}
	
	//메서드
	
	//1.run
	public void run() {
		while (true) {
			menu();
			System.out.print("작업 선택 : ");
			int choice=sc.nextInt();
			sc.nextLine();//choice 입력 뒤에 남아있는 엔터를 제거하기 위한 코드
			switch(choice) {
			case 1: 
				makeSchedule();
				break;
			case 2: 
				deleteSchedule();
				break;
				/*	case 3: 
				updateSchedule();
				break;
			case 4: 
				searchSchedule();
				break;
			case 5:
				printAllSchedule();*/
			case 0: 
				exit();
				return; //void의 반환타입은 return; 을 통해 메소드 종료할 수 있다.
			default:
				System.out.println("없는 작업입니다. 다시 입력해주세요.");
				
			}
		}
	}
	public void menu() {
		System.out.println("====스케줄러====");
		System.out.println("1. 스케줄 만들기");  
		System.out.println("2. 스케줄 삭제하기");  
		System.out.println("3. 스케줄 수정하기");  
		System.out.println("4. 스케줄 삭제하기");  
		System.out.println("5. 전체 스케줄러 보기");
		System.out.println("0. 프로그램 종료");  
		System.out.println("===============");  
	}
	
	
	
	public void exit() {
		System.out.println("스케줄러 종료");
		sc.close();
	}
	
	
	/*
	 * weekname = 일~토
	 * week = 1일 2일 3일 . . .. 
	 */
	
	public void makeSchedule() {
		System.out.println("===스케줄 만들기===");
		System.out.print("스케줄 등록할 요일(일~토) 입력:");
		String weekName=sc.next();
		sc.nextLine();//요일 뒤에 남아있는 엔터키 제거
		
		for(int i=0;i<week.length;i++) {//7개 요일
			if(weekNames[i].equals(weekName)) {//일치하는 요일 
				if(week[i].getSchedule()==null||week[i].getSchedule().isEmpty()) {//일정이 비었는지 확인 후 입력받음
					System.out.print(weekName+"요일의 신규 스케줄  입력:");
					String schedule=sc.nextLine();
					week[i].setSchedule(schedule);
					System.out.println(weekName+"요일에 스케줄 등록 완료");
				}else {
					System.out.println(weekName+"요일은 이미 스케줄이 있다.");
				}
				break;//for문 종료 ->스케줄 작업 끝났으니까 
			}
		}//for문
		
		
	}//makeSchedule() 메서드 끝


	public void deleteSchedule() {
		System.out.println("========스케줄 바꾸기==========");
		System.out.print("스케줄 삭제할 요일(일~토) 입력:");
		String weekNamez=sc.next();//만약 화요일 이라고 입력을 했다면,
		weekNamez=weekNamez.substring(0,1);// 	0<=추출할 문자열 <1  : chartAt(0);을 쓰지않은 이유 ->char 타입이 아니라서 
		sc.nextLine();//요일 뒤에 남아있는 엔터키 제거
		
		for(int i=0;i<week.length;i++) {
			if(weekNames[i].equals(weekNamez)) {
				if(week[i].getSchedule()==null||week[i].getSchedule().isEmpty()) {
					System.out.println(weekNamez+"요일은 스케줄이 없습니다.");
				}else {
					System.out.println(weekNamez+"요일의 스케줄은 다음과 같습니다.");
					System.out.println("["+week[i].getSchedule()+"]");
					System.out.println("삭제할까요?(Y/N)");
					String yesNo=sc.next();
					yesNo=yesNo.substring(0,1);
					if(yesNo.equalsIgnoreCase("Y")) {
						week[i].setSchedule(null);//스케줄을 비움
						System.out.println("삭제 되었습니다.");
					}
					
				}
				
			}
		}//for문 종료
		
		
	}
	
	
	
}




